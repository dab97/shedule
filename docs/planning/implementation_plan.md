# План реализации: Виртуализация таблицы расписания

## Цель
Заменить текущую пагинацию в компоненте `ScheduleTable` на виртуализированный список (бесконечный скролл) с использованием библиотеки `@tanstack/react-virtual`. Это значительно улучшит производительность и UX при работе с большими списками занятий.

## Требования
- Удалить логику пагинации (страницы, кнопки "Вперед/Назад", выбор размера страницы).
- Реализовать `useVirtualizer` для контейнера таблицы.
- Сохранить функционал сортировки и фильтрации.
- Сохранить адаптивность таблицы.
- Обеспечить корректную работу с заголовком таблицы (sticky header).

## Требуется ревью пользователя
> [!IMPORTANT]
> Это изменение удалит пагинацию. Пользователи больше не смогут кликать по страницам, вместо этого будет скролл. Убедитесь, что это желаемое поведение.

## Предлагаемые изменения

### Компоненты

#### [MODIFY] [ScheduleTable.tsx](file:///c:/html/__RGSU__/04.02.26/shedule/components/ScheduleTable.tsx)
- Удалить `useState` для `currentPage`, `itemsPerPage`.
- Удалить разметку пагинации.
- Импортировать `useVirtualizer` из `@tanstack/react-virtual`.
- Обернуть `TableBody` или его содержимое в виртуализатор.
- Настроить `estimateSize` для строк (примерно 40-50px).
- Добавить контейнер со скроллом и фиксированной высотой (например, `h-[600px]` или `max-h-[calc(100vh-200px)]`).

```typescript
// Примерная структура
const parentRef = useRef<HTMLDivElement>(null);
const virtualizer = useVirtualizer({
  count: sortedData.length,
  getScrollElement: () => parentRef.current,
  estimateSize: () => 50,
  overscan: 10,
});

<div ref={parentRef} className="h-[600px] overflow-auto">
  <div style={{ height: `${virtualizer.getTotalSize()}px`, position: 'relative' }}>
    {virtualizer.getVirtualItems().map((virtualRow) => (
       <div style={{ transform: `translateY(${virtualRow.start}px)` }}>
         {/* Контент строки */}
       </div>
    ))}
  </div>
</div>
```

## План верификации

### Ручное тестирование
1. Открыть страницу расписания.
2. Выбрать группу или преподавателя с большим количеством занятий (чтобы было больше экранов).
3. Проскроллить таблицу вниз.
4. Проверить, что новые элементы подгружаются плавно.
5. Проверить работу сортировки (кликнуть по заголовку "Дата" или "Время") - скролл должен сбрасываться или корректно отображать отсортированные данные.
6. Проверить фильтрацию - список должен обновляться.
